<!doctype html>
<html>
<head>
<title>FF7 W-Trouble Challenge Tool</title>
<script>
function rollAttributes() {
	characters();
	equipment();
	event();
	limit();
	materia();
}

function characters() {
	const characters = [
	'Aerith', 'Tifa', 'Barret', 'Yuffie', 'Vincent', 'Cid', 'Cait Sith'
	];

	var char2 = Math.floor(Math.random() * characters.length);
	var char3 = Math.floor(Math.random() * characters.length);
	var char3b = Math.floor(Math.random() * characters.length);

	while (char2 == char3) {
		char3 = Math.floor(Math.random() * characters.length);
	}

	if (characters[char2] == "Aerith" || characters[char3] == "Aerith") {	
		while (characters[char3b] == "Aerith" || char3b == char2 || char3b == char3) {
			char3b = Math.floor(Math.random() * characters.length);
		}
	} 

	document.getElementById("charRes1").innerHTML = "Cloud";
	
	if (characters[char2] == "Aerith") {
	document.getElementById("charRes2").innerHTML = characters[char2] + " (" + characters[char3b] + ")";
	document.getElementById("charRes3").innerHTML = characters[char3];
	}
	else if(characters[char3] == "Aerith") {
	document.getElementById("charRes3").innerHTML = characters[char3] + " (" + characters[char3b] + ")";
	document.getElementById("charRes2").innerHTML = characters[char2];
	}
	else {
	document.getElementById("charRes2").innerHTML = characters[char2];
	document.getElementById("charRes3").innerHTML = characters[char3];
	}
}

function equipment() {
	const equipment = [
	'Weapon', 'Armor', 'Accessory'
	];
	
	if (document.getElementById("indpEq").checked){
	} else {
		var eq1 = Math.floor(Math.random() * equipment.length);
		var eq2 = Math.floor(Math.random() * equipment.length);
		while (eq1 == eq2) {
			eq2 = Math.floor(Math.random() * equipment.length);
		}
		document.getElementById("eqRes1").innerHTML = equipment[eq1] + ", " + equipment[eq2];
		document.getElementById("eqRes2").innerHTML = equipment[eq1] + ", " + equipment[eq2];
		document.getElementById("eqRes3").innerHTML = equipment[eq1] + ", " + equipment[eq2];
	}

}

function rolleq1() {
	if (document.getElementById("indpEq").checked){
		const equipment = [
		'Weapon', 'Armor', 'Accessory'
		];
		
		var eq1 = Math.floor(Math.random() * equipment.length);
		var eq2 = Math.floor(Math.random() * equipment.length);
		
		while (eq1 == eq2) {
		eq2 = Math.floor(Math.random() * equipment.length);
		}
		
		document.getElementById("eqRes1").innerHTML = equipment[eq1] + ", " + equipment[eq2];
	}
}

function rolleq2() {
	if (document.getElementById("indpEq").checked){
		const equipment = [
		'Weapon', 'Armor', 'Accessory'
		];
		
		var eq1 = Math.floor(Math.random() * equipment.length);
		var eq2 = Math.floor(Math.random() * equipment.length);
		
		while (eq1 == eq2) {
		eq2 = Math.floor(Math.random() * equipment.length);
		}
		
		document.getElementById("eqRes2").innerHTML = equipment[eq1] + ", " + equipment[eq2];
	}
}

function rolleq3() {
	if (document.getElementById("indpEq").checked){
		const equipment = [
		'Weapon', 'Armor', 'Accessory'
		];
		
		var eq1 = Math.floor(Math.random() * equipment.length);
		var eq2 = Math.floor(Math.random() * equipment.length);
		
		while (eq1 == eq2) {
		eq2 = Math.floor(Math.random() * equipment.length);
		}
		
		document.getElementById("eqRes3").innerHTML = equipment[eq1] + ", " + equipment[eq2];
	}
}

function event() {
	const event = [
	'Breed Gold Chocobo', 'Beat Emerald', 'Beat Ruby', 'Complete Ancient Forest', 'Beat Ultima', 'Defeat Raps (Wutai)', 'Finish Pagoda (Wutai)', 'Finish Mogs House', 'Achieve S Rank Chocobo'
	];
	
	var ev1 = Math.floor(Math.random() * event.length);
	var ev2 = Math.floor(Math.random() * event.length);
	
	while (ev1 == ev2) {
		ev2 = Math.floor(Math.random() * event.length);
	}
	
	document.getElementById("EventResult").innerHTML = event[ev1] + ", " + event[ev2];
}

function limit() {
	const limit = [
	'1-1', '1-2', '2-1', '2-2', '3-1', '3-2', '4-1'
	];

	document.getElementById("LimitResult").innerHTML = limit[Math.floor(Math.random() * limit.length)];
}

function materia() {
	const materia = [
	'Magic', 'Command', 'Summon', 'Support', 'Independent'
	];
	
	var mat1 = Math.floor(Math.random() * materia.length);
	var mat2 = Math.floor(Math.random() * materia.length);
	
	while (mat1 == mat2) {
		mat2 = Math.floor(Math.random() * materia.length);
	}
	
	document.getElementById("MateriaResult").innerHTML = materia[mat1] + ", " + materia[mat2];
}
</script>
<style>
table, th, td {
	border: 1px solid black;
}

table {
	width: 70%;
}

th, td {
	padding: 10px;
}

td {
	width: 25%;
}

.tableheader, .cat {
	font-weight: bold;
}

body {
	font-family: Arial;
	font-size: 20px;
	background-color: #EEFFEE;
}

th {
	font-size: 30px;
}

</style>
</head>
<body>
<center>
	<h1>This page is used to roll properties of the FF7 W-Trouble Challenge</h1>
<input type="checkbox" id="indpEq">Do you want to roll equipment independently?</input>
<br />
<br />
<button type="button" onclick="rollAttributes()">Click me to roll!</button>
<br />
<br />

<table>
<th colspan = 4>Results</th>
<tr class="tableheader">
	<td>Category</td>
	<td>Character 1 <button type="button" onclick="rolleq1()">Roll Eq</button></td>
	<td>Character 2 <button type="button" onclick="rolleq2()">Roll Eq</button></td>
	<td>Character 3 <button type="button" onclick="rolleq3()">Roll Eq</button></td>
</tr>
<tr>
	<td class="cat">Character</td>
	<td id="charRes1"></td>
	<td id="charRes2"></td>
	<td id="charRes3"></td>
</tr>
<tr>
	<td class="cat">Equipment</td>
	<td id="eqRes1"></td>
	<td id="eqRes2"></td>
	<td id="eqRes3"></td>
</tr>
<tr>
	<td class="cat">Event</td>
	<td colspan = 3 id="EventResult">
</tr>
<tr>
	<td class="cat">Limit Tier</td>
	<td colspan = 3 id="LimitResult">
</tr>
<tr>
	<td class="cat">Materia</td>
	<td colspan = 3 id="MateriaResult">
</tr>
</table>
</center>
</body>
</html>